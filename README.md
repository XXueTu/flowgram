# Flowgram Demo è‡ªç”±å¸ƒå±€ç¼–è¾‘å™¨

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/npm/v/@flowgram.ai/demo-free-layout.svg)](https://www.npmjs.com/package/@flowgram.ai/demo-free-layout)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18+-blue.svg)](https://reactjs.org/)

ä¸€ä¸ªåŸºäº React + TypeScript æ„å»ºçš„å¯è§†åŒ–æµç¨‹ç¼–è¾‘å™¨æ¼”ç¤ºé¡¹ç›®ï¼Œæä¾›å¼ºå¤§çš„è‡ªç”±å¸ƒå±€ç¼–è¾‘èƒ½åŠ›å’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ¨ æ ¸å¿ƒç¼–è¾‘åŠŸèƒ½
- **è‡ªç”±å¸ƒå±€ç¼–è¾‘å™¨**: æ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾ã€æ—‹è½¬ç­‰æ“ä½œ
- **å¯è§†åŒ–èŠ‚ç‚¹ç³»ç»Ÿ**: ä¸°å¯Œçš„èŠ‚ç‚¹ç±»å‹å’Œè‡ªå®šä¹‰èŠ‚ç‚¹æ”¯æŒ
- **æ™ºèƒ½è¿çº¿**: è‡ªåŠ¨å¸é™„ã€æ™ºèƒ½è·¯å¾„è§„åˆ’
- **åˆ†ç»„ç®¡ç†**: æ”¯æŒèŠ‚ç‚¹åˆ†ç»„å’Œæ‰¹é‡æ“ä½œ
- **å®æ—¶é¢„è§ˆ**: æ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘ä½“éªŒ

### ğŸ”§ é«˜çº§åŠŸèƒ½
- **èŠ‚ç‚¹æ‰§è¡Œç›‘æ§**: å®æ—¶ç›‘æ§èŠ‚ç‚¹æ‰§è¡ŒçŠ¶æ€å’Œç»“æœ
- **æƒé™ç®¡ç†ç³»ç»Ÿ**: ç»†ç²’åº¦æƒé™æ§åˆ¶
- **æ’ä»¶ç³»ç»Ÿ**: å¯æ‰©å±•çš„æ’ä»¶æ¶æ„
- **å¿«ç…§åŠŸèƒ½**: æ”¯æŒæ’¤é”€/é‡åšæ“ä½œ
- **å¯¼å…¥å¯¼å‡º**: æ”¯æŒå¤šç§æ ¼å¼çš„æ•°æ®äº¤æ¢

### ğŸ¯ ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å›½é™…åŒ–æ”¯æŒ**: å¤šè¯­è¨€ç•Œé¢
- **ä¸»é¢˜å®šåˆ¶**: æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜
- **å¿«æ·é”®**: ä¸°å¯Œçš„é”®ç›˜å¿«æ·é”®æ”¯æŒ

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æ ¸å¿ƒ
- **React 18**: ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢åº“
- **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†
- **Rsbuild**: é«˜æ€§èƒ½çš„ç°ä»£åŒ–æ„å»ºå·¥å…·
- **Ant Design**: ä¼ä¸šçº§ UI è®¾è®¡è¯­è¨€

### çŠ¶æ€ç®¡ç†
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†åº“
- **MobX**: å“åº”å¼çŠ¶æ€ç®¡ç†

### æ ·å¼æ–¹æ¡ˆ
- **Styled Components**: CSS-in-JS è§£å†³æ–¹æ¡ˆ
- **Less**: CSS é¢„å¤„ç†å™¨
- **Semi Design**: ç°ä»£åŒ–è®¾è®¡ç³»ç»Ÿ

### å¼€å‘å·¥å…·
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **Monaco Editor**: åœ¨çº¿ä»£ç ç¼–è¾‘å™¨
- **React Router**: å•é¡µåº”ç”¨è·¯ç”±

## ğŸ“ é¡¹ç›®ç»“æ„

```
flowgram/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ app.tsx                   # åº”ç”¨å…¥å£ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx                  # åº”ç”¨å¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€â”€ editor.tsx                # ç¼–è¾‘å™¨æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ assets/                   # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/               # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ base-node/           # åŸºç¡€èŠ‚ç‚¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ sidebar/             # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ tools/               # å·¥å…·æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ node-panel/          # èŠ‚ç‚¹é¢æ¿
â”‚   â”‚   â”œâ”€â”€ node-menu/           # èŠ‚ç‚¹èœå•
â”‚   â”‚   â”œâ”€â”€ add-node/            # æ·»åŠ èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ comment/             # æ³¨é‡Šç»„ä»¶
â”‚   â”‚   â””â”€â”€ group/               # åˆ†ç»„ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home.tsx             # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ login.tsx            # ç™»å½•é¡µ
â”‚   â”‚   â””â”€â”€ register.tsx         # æ³¨å†Œé¡µ
â”‚   â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ routes.tsx           # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ menu.ts              # èœå•é…ç½®
â”‚   â”‚   â”œâ”€â”€ proxy.ts             # ä»£ç†é…ç½®
â”‚   â”‚   â””â”€â”€ env.ts               # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ stores/                  # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/                # API æœåŠ¡
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ context/                 # React Context
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ plugins/                 # æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ nodes/                   # èŠ‚ç‚¹å®šä¹‰
â”‚   â”œâ”€â”€ form-components/         # è¡¨å•ç»„ä»¶
â”‚   â”œâ”€â”€ form-materials/          # è¡¨å•ç‰©æ–™
â”‚   â”œâ”€â”€ shortcuts/               # å¿«æ·é”®é…ç½®
â”‚   â”œâ”€â”€ styles/                  # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ types/                   # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ typings/                 # TypeScript å£°æ˜
â”œâ”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ PROXY_CONFIG.md          # ä»£ç†é…ç½®æ–‡æ¡£
â”œâ”€â”€ dist/                        # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ rsbuild.config.ts           # æ„å»ºå·¥å…·é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ .eslintrc.js                # ESLint é…ç½®
â”œâ”€â”€ CODING_RULES.md             # ç¼–ç è§„èŒƒ
â””â”€â”€ NODE_EXECUTION_DETAILS.md   # èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 8.0.0 æˆ– yarn >= 1.22.0

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev

# æˆ–
yarn dev
```

é¡¹ç›®å°†åœ¨ `http://localhost:3000` å¯åŠ¨ï¼Œæ”¯æŒçƒ­é‡è½½ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æˆ–
yarn build
```

æ„å»ºæ–‡ä»¶å°†è¾“å‡ºåˆ° `dist` ç›®å½•ã€‚

## ğŸ“ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®éµå¾ªä¸¥æ ¼çš„ä»£ç è§„èŒƒï¼Œè¯¦è§ [CODING_RULES.md](./CODING_RULES.md)ï¼š

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ React Hooks
- é‡‡ç”¨æ¨¡å—åŒ–çš„ç›®å½•ç»“æ„

### ç»„ä»¶å¼€å‘

åˆ›å»ºæ–°ç»„ä»¶æ—¶è¯·éµå¾ªä»¥ä¸‹ç»“æ„ï¼š

```typescript
import React from 'react';
import styled from 'styled-components';

interface ComponentProps {
  // å±æ€§å®šä¹‰
}

const StyledWrapper = styled.div`
  // æ ·å¼å®šä¹‰
`;

export const ComponentName: React.FC<ComponentProps> = (props) => {
  // ç»„ä»¶å®ç°
  return <StyledWrapper>{/* ç»„ä»¶å†…å®¹ */}</StyledWrapper>;
};
```

### çŠ¶æ€ç®¡ç†

é¡¹ç›®ä½¿ç”¨ Zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š

```typescript
import { create } from 'zustand';

interface StoreState {
  // çŠ¶æ€å®šä¹‰
}

export const useStore = create<StoreState>((set, get) => ({
  // çŠ¶æ€å®ç°
}));
```

### è·¯ç”±é…ç½®

åœ¨ `src/config/routes.tsx` ä¸­é…ç½®è·¯ç”±ï¼š

```typescript
export const routeConfigs: RouteConfig[] = [
  {
    path: '/your-path',
    component: lazy(() => import('../pages/YourPage')),
    requireAuth: true, // æ˜¯å¦éœ€è¦è®¤è¯
    permissions: ['permission'], // æƒé™è¦æ±‚
  },
];
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### èŠ‚ç‚¹æ‰§è¡Œç›‘æ§

é¡¹ç›®æä¾›äº†å®Œæ•´çš„èŠ‚ç‚¹æ‰§è¡Œç›‘æ§åŠŸèƒ½ï¼Œè¯¦è§ [NODE_EXECUTION_DETAILS.md](./NODE_EXECUTION_DETAILS.md)ï¼š

```tsx
import { NodeExecutionDetails } from './components/base-node/node-execution-details';

<NodeExecutionDetails
  nodeId="your-node-id"
  canvasId="default"
  serialId="trace-id"
/>
```

### æƒé™ç®¡ç†

ä½¿ç”¨æƒé™ç»„ä»¶åŒ…è£…éœ€è¦æƒé™æ§åˆ¶çš„å†…å®¹ï¼š

```tsx
import { PermissionWrapper } from './components/permission-wrapper';

<PermissionWrapper permissions={['read', 'write']}>
  <YourComponent />
</PermissionWrapper>
```

### æ’ä»¶ç³»ç»Ÿ

é¡¹ç›®æ”¯æŒä¸°å¯Œçš„æ’ä»¶æ‰©å±•ï¼š

- `@flowgram.ai/free-container-plugin`: å®¹å™¨æ’ä»¶
- `@flowgram.ai/free-group-plugin`: åˆ†ç»„æ’ä»¶
- `@flowgram.ai/free-lines-plugin`: è¿çº¿æ’ä»¶
- `@flowgram.ai/free-snap-plugin`: å¸é™„æ’ä»¶
- `@flowgram.ai/minimap-plugin`: ç¼©ç•¥å›¾æ’ä»¶

## ğŸ¨ æ ·å¼ä¸»é¢˜

é¡¹ç›®æ”¯æŒä¸»é¢˜å®šåˆ¶ï¼Œå¯é€šè¿‡ä¿®æ”¹æ ·å¼å˜é‡æ¥è°ƒæ•´ç•Œé¢å¤–è§‚ï¼š

```less
// åœ¨ src/styles/ ç›®å½•ä¸‹ä¿®æ”¹ä¸»é¢˜å˜é‡
@primary-color: #1890ff;
@success-color: #52c41a;
@warning-color: #faad14;
@error-color: #ff4d4f;
```

## ğŸ“¦ æ„å»ºé…ç½®

### Rsbuild é…ç½®

é¡¹ç›®ä½¿ç”¨ Rsbuild ä½œä¸ºæ„å»ºå·¥å…·ï¼Œé…ç½®æ–‡ä»¶ä½äº `rsbuild.config.ts`ï¼š

```typescript
export default defineConfig({
  plugins: [pluginReact(), pluginLess()],
  source: {
    entry: { index: "./src/main.tsx" },
    decorators: { version: "legacy" },
  },
  // æ›´å¤šé…ç½®...
});
```

### ä»£ç†é…ç½®

å¼€å‘ç¯å¢ƒä»£ç†é…ç½®è¯¦è§ [docs/PROXY_CONFIG.md](./docs/PROXY_CONFIG.md)ã€‚

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm run test

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# ä¿®å¤ä»£ç æ ¼å¼
npm run lint:fix
```

## ğŸ“š æ–‡æ¡£

- [ç¼–ç è§„èŒƒ](./CODING_RULES.md)
- [èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…](./NODE_EXECUTION_DETAILS.md)
- [ä»£ç†é…ç½®](./docs/PROXY_CONFIG.md)
- [è·¯ç”±æ‡’åŠ è½½è¯´æ˜](./src/config/README-lazy-loading.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/amazing-feature`
5. å¼€å¯ Pull Request

### æäº¤è§„èŒƒ

ä½¿ç”¨çº¦å®šå¼æäº¤è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤é—®é¢˜
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](https://opensource.org/licenses/MIT) å¼€æºã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Flowgram å®˜ç½‘](https://flowgram.ai)
- [åœ¨çº¿æ¼”ç¤º](https://demo.flowgram.ai)
- [API æ–‡æ¡£](https://docs.flowgram.ai)
- [é—®é¢˜åé¦ˆ](https://github.com/flowgram-ai/demo-free-layout/issues)

## ğŸ“ è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- é‚®ç®±: support@flowgram.ai
- å®˜ç½‘: https://flowgram.ai
- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/flowgram-ai/demo-free-layout/issues)

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œç”¨äºå±•ç¤º Flowgram ç¼–è¾‘å™¨çš„æ ¸å¿ƒåŠŸèƒ½ã€‚ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯·è”ç³»æˆ‘ä»¬è·å–å®Œæ•´ç‰ˆæœ¬ã€‚
